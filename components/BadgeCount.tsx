import { css } from '@emotion/react';

export interface BadgeCountProps {
  count: number;
}

export let BadgeCount: React.FC<BadgeCountProps> = (props) => {
  let { count, ...rest } = props;

  return (
    <svg
      viewBox="0 0 20 20"
      css={css`
        width: 24px;
      `}
      {...rest}
    >
      <circle cx="10" cy="10" r="10" fill="crimson"></circle>
      <Digits value={count} width="14" height="10" x="3" y="5"></Digits>
    </svg>
  );
};

function Digits(props: any) {
  const SPACING = 85;
  let { value, ...rest } = props;
  let stringValue: string = value.toString();
  let digits = stringValue.split('');

  return (
    <svg viewBox={`0 0 ${digits.length * SPACING} 109`} fill="currentColor" {...rest}>
      <symbol viewBox="0 0 848 109">
        <path d="M52 2.3h-12.7l-26.2 17.4v12.8l25.6-16.9h.6v91.4h12.7v-104.7z" id="1" />
        <path
          d="M0 107h66v-11.2h-48.6v-.9l23.5-25.1c18-19.3 23.3-28.3 23.3-39.9c0-16.2-13.1-29.1-31.5-29.1c-18.4 0-32.3 12.5-32.3 30.9h12.1c0-11.9 7.7-19.8 19.8-19.8c11.3 0 20 6.9 20 18c0 9.7-5.6 16.8-17.8 30.1l-34.5 37.8v9.2z"
          id="2"
        />
        <path
          d="M38 108.4c20.3 0 35.3-12.7 35.3-29.8c0-13.3-7.8-23-21-25.2v-.8c10.6-3.2 17.2-11.9 17.2-23.7c0-14.9-11.8-28.1-31.1-28.1c-18.1 0-33.2 11.2-33.8 27.7h12.3c.4-10.5 10.4-16.6 21.3-16.6c11.5 0 19 7 19 17.6c0 11-8.7 18.2-21.1 18.2h-8.4v11.2h8.4c15.9 0 24.8 8.1 24.8 19.7c0 11.1-9.7 18.6-23.2 18.6c-12.1 0-21.7-6.3-22.5-16.4h-12.8c.7 16.5 15.3 27.6 35.6 27.6z"
          id="3"
        />
        <path
          d="M0 85.5h49.3v21.5h12.1v-21.5h14.3v-11.2h-14.3v-72h-15.4l-46 72.8v10.4zm49.3-11.2h-35.6v-.8l34.8-55.1h.8v55.9z"
          id="4"
        />
        <path
          d="M38 108.4c19.9 0 34.5-14.7 34.5-34.7c0-20.3-14.1-35.2-33.3-35.2c-7.1 0-13.9 2.5-18.2 5.9h-.6l3.7-30.9h43.7v-11.2h-54.4l-6.3 51.5l11.8 1.5c4.4-3.2 11.8-5.4 18.3-5.4c13.3.1 23.1 10.3 23.1 24c0 13.4-9.4 23.3-22.3 23.3c-10.8 0-19.3-6.9-20.3-16.4h-12.3c.8 16 14.6 27.6 32.6 27.6z"
          id="5"
        />
        <path
          d="M38 108.4c21.2.3 35-15.7 35-35.1c0-20.3-15-34.8-32.9-34.8c-10.8 0-20.1 5.2-25.8 13.9h-.8c0-25.5 10-40.3 26.2-40.3c11 0 17.7 6.9 20 16.4h12.5c-2.6-16.3-14.9-27.7-32.5-27.7c-23.6 0-38.1 20.9-38.1 57.9c0 38.7 19.2 49.5 36.4 49.7zm0-11.2c-13.1 0-22.7-11.2-22.7-23.7c.1-12.6 10.1-23.8 23.1-23.8c12.9 0 22.3 10.6 22.3 23.6c0 13.2-9.8 23.9-22.7 23.9z"
          id="6"
        />
        <path d="M15 107h13.3l46.6-92.9v-11.9h-67.1v11.2h54v.8l-46.8 92.7z" id="7" />
        <path
          d="M38 108.4c20.9 0 35.5-12.2 35.6-29.2c-.1-13.3-8.9-24.5-20.2-26.6v-.6c9.8-2.6 16.2-12.2 16.3-23.3c-.1-16-13.5-27.9-31.7-27.9c-18.4 0-31.8 11.9-31.7 27.9c-.1 11.1 6.4 20.7 16.4 23.3v.6c-11.5 2.1-20.4 13.3-20.3 26.6c-.1 17 14.5 29.2 35.6 29.2zm0-11.2c-14.4 0-23.2-7.4-23.1-18.6c-.1-11.8 9.7-20.3 23.1-20.3c13.3 0 23 8.5 23.1 20.3c-.1 11.2-8.9 18.6-23.1 18.6zm0-49.7c-11.4 0-19.5-7.2-19.4-18c-.1-10.7 7.7-17.6 19.4-17.6c11.6 0 19.3 6.9 19.4 17.6c-.1 10.8-8.1 18-19.4 18z"
          id="8"
        />
        <path
          d="M38 .8c-21.2-.2-34.9 15.8-34.9 35c0 20.3 14.9 34.8 32.9 34.8c10.8 0 20-5.3 25.8-13.9h.8c0 25.8-10 40.5-26.2 40.5c-11 0-17.8-7-20-16.6h-12.5c2.4 16.6 14.9 27.8 32.5 27.8c23.5 0 38.1-20.8 38.1-58.1c0-38.4-19.3-49.3-36.5-49.5zm0 11.3c13.1 0 22.7 11.2 22.7 23.5c0 12.5-10.2 23.7-23.1 23.7c-12.9 0-22.3-10.4-22.3-23.5c0-13.1 9.9-23.7 22.7-23.7z"
          id="9"
        />
        <path
          d="M38 108.4c23.1 0 36.4-19.6 36.4-53.8c0-33.9-13.5-53.8-36.4-53.8c-22.9 0-36.4 19.9-36.4 53.8c0 34.2 13.3 53.8 36.4 53.8zm0-11.2c-15.2 0-24.1-15.3-24.1-42.6c0-27.2 9-42.7 24.1-42.7c15.2 0 24.2 15.5 24.2 42.7c0 27.3-8.9 42.6-24.2 42.6z"
          id="0"
        />
      </symbol>
      {digits.map((d, i) => (
        <use href={`#${d}`} x={i * SPACING}></use>
      ))}
    </svg>
  );
}
